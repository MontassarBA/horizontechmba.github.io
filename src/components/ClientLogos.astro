---
import { getLangFromUrl } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);

const content = {
  fr: {
    title: 'Ils nous font confiance',
    subtitle: 'Des entreprises innovantes qui comptent sur notre expertise'
  },
  en: {
    title: 'They trust us',
    subtitle: 'Innovative companies that rely on our expertise'
  }
};

const t = content[lang] || content.en;

// Placeholder logos - in production, replace with actual client logos
const clients = [
  { name: 'AeroTech', industry: 'Aerospace' },
  { name: 'MedDevice', industry: 'Healthcare' },
  { name: 'EnergiePlus', industry: 'Energy' },
  { name: 'TechCorp', industry: 'Technology' },
  { name: 'AutoDrive', industry: 'Automotive' },
  { name: 'SmartGrid', industry: 'Utilities' }
];
---

<section class="py-16 bg-white/50 backdrop-blur-sm border-y border-gray-100">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-3">
        {t.title}
      </h2>
      <p class="text-gray-600">
        {t.subtitle}
      </p>
    </div>
    
    <!-- Logo marquee -->
    <div class="relative overflow-hidden">
      <!-- Gradient masks -->
      <div class="absolute left-0 top-0 bottom-0 w-24 bg-gradient-to-r from-white to-transparent z-10"></div>
      <div class="absolute right-0 top-0 bottom-0 w-24 bg-gradient-to-l from-white to-transparent z-10"></div>
      
      <!-- Scrolling logos -->
      <div class="flex animate-scroll">
        {[...clients, ...clients].map((client) => (
          <div class="flex-shrink-0 mx-8 md:mx-12">
            <div class="w-32 h-16 md:w-40 md:h-20 bg-white/80 backdrop-blur-sm rounded-xl shadow-lg shadow-black/5 border border-gray-100 flex items-center justify-center p-4 hover:shadow-xl hover:scale-105 transition-all duration-300">
              <!-- Placeholder for actual logo -->
              <div class="text-center">
                <span class="font-bold text-gray-700 text-lg">{client.name}</span>
                <span class="block text-xs text-gray-400">{client.industry}</span>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
    
    <!-- Trust indicators -->
    <div class="flex flex-wrap justify-center gap-6 md:gap-12 mt-12 pt-8 border-t border-gray-100">
      <div class="flex items-center gap-2 text-gray-600">
        <svg class="w-5 h-5 text-primary-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
        </svg>
        <span class="text-sm font-medium">
          {lang === 'fr' ? 'NDA & Confidentialité' : 'NDA & Confidentiality'}
        </span>
      </div>
      <div class="flex items-center gap-2 text-gray-600">
        <svg class="w-5 h-5 text-primary-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
        </svg>
        <span class="text-sm font-medium">
          {lang === 'fr' ? 'Assurance qualité' : 'Quality assurance'}
        </span>
      </div>
      <div class="flex items-center gap-2 text-gray-600">
        <svg class="w-5 h-5 text-primary-500" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
        </svg>
        <span class="text-sm font-medium">
          {lang === 'fr' ? 'Équipes dédiées' : 'Dedicated teams'}
        </span>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  .animate-scroll {
    animation: scroll 30s linear infinite;
  }
  
  .animate-scroll:hover {
    animation-play-state: paused;
  }
</style>
