---
import { getLangFromUrl, useTranslations, useTranslatedPath } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

const sectors = [
  { label: lang === 'fr' ? 'Dispositifs médicaux' : 'Medical devices' },
  { label: lang === 'fr' ? 'Énergie & comptage' : 'Energy & metering' },
  { label: lang === 'fr' ? 'Automobile' : 'Automotive' },
  { label: lang === 'fr' ? 'Hors-route & mines' : 'Off-highway & mining' },
  { label: lang === 'fr' ? 'Automatisation & vision' : 'Automation & vision' },
  { label: lang === 'fr' ? 'IoT & IA' : 'IoT & AI' }
];

const standards = ['IEC 60601', 'IEC 62304', 'IEC 61508', 'ISO 13849', 'ISO 26262', 'DLMS/COSEM', 'EMI/EMC'];
const standardsLabel = lang === 'fr' ? 'Normes & conformité' : 'Standards & compliance';
const standardsLink = lang === 'fr' ? 'Voir toutes les normes' : 'See all standards';
---

<section id="content" class="py-12 bg-gray-50 border-y border-gray-100">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <p class="text-center text-sm font-medium text-gray-500 uppercase tracking-wider mb-6">
      {t('hero.trusted')}
    </p>

    <div class="flex flex-wrap justify-center items-center gap-3">
      {sectors.map((sector) => (
        <span class="px-4 py-2 rounded-full bg-white border border-gray-200 text-sm text-gray-700 shadow-sm">
          {sector.label}
        </span>
      ))}
    </div>

    <div class="mt-10 text-center">
      <p class="text-xs font-semibold text-gray-500 uppercase tracking-widest">
        {standardsLabel}
      </p>
      <div class="flex flex-wrap justify-center gap-2 mt-4">
        {standards.map((standard) => (
          <span class="px-3 py-1.5 rounded-full bg-white border border-gray-200 text-xs font-semibold text-gray-700">
            {standard}
          </span>
        ))}
      </div>
      <a
        href={translatePath('/standards')}
        class="mt-4 inline-flex items-center text-primary-600 hover:text-primary-700 font-semibold"
      >
        {standardsLink}
        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

