---
import Layout from '../../layouts/Layout.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import CTASection from '../../components/CTASection.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const standards = [
  {
    code: 'IEC 60601',
    title: 'Sécurité des dispositifs médicaux',
    desc: "Exigences de sécurité et de performance essentielle pour les dispositifs médicaux."
  },
  {
    code: 'IEC 62304',
    title: 'Cycle de vie logiciel médical',
    desc: "Processus logiciel, gestion des risques et vérification pour les dispositifs médicaux."
  },
  {
    code: 'IEC 61508',
    title: 'Sécurité fonctionnelle',
    desc: "Cycle de vie sécurité pour les systèmes électriques, électroniques et programmables."
  },
  {
    code: 'ISO 13849',
    title: 'Sécurité des machines',
    desc: "Parties des systèmes de commande relatives à la sécurité des machines."
  },
  {
    code: 'ISO 26262',
    title: 'Sécurité fonctionnelle automobile',
    desc: "Sécurité fonctionnelle des véhicules routiers et de l'électronique automobile."
  },
  {
    code: 'DLMS/COSEM',
    title: 'Norme de comptage intelligent',
    desc: "Modèle de données et communication pour compteurs d'énergie intelligents."
  },
  {
    code: 'EMI/EMC',
    title: 'Support conception EMI/EMC',
    desc: "Mitigation, pré-conformité et documentation pour la compatibilité électromagnétique."
  }
];

const deliverables = [
  "Feuille de route conformité et analyse des écarts",
  "Définition des exigences et planification sécurité",
  "Analyse des risques (FMEA/FMEDA) et mitigation",
  "Stratégie de vérification et validation",
  "Plans de test, rapports et traçabilité",
  "Revues EMI/EMC et recommandations"
];

const protocolsTitle = lang === 'fr' ? 'Protocoles & bus de communication' : 'Communication protocols & buses';
const protocolsSubtitle = lang === 'fr'
  ? "Normes de communication courantes en automobile, industrie et IoT."
  : 'Communication standards commonly used in automotive, industrial, and IoT systems.';
const protocols = ['J1939', 'CAN', 'Ethernet', 'Wi-Fi 802.11', 'Modbus TCP/RTU', 'BACnet'];

const sectors = [
  "Dispositifs médicaux",
  "Énergie & comptage",
  "Automobile",
  "Hors-route & mines",
  "Automatisation & vision industrielle",
  "IoT & IA"
];
---

<Layout
  title={lang === 'fr' ? 'Normes & conformité' : 'Standards & Compliance'}
  description="Support en normes et conformité pour systèmes embarqués, dispositifs médicaux, comptage intelligent et équipements critiques. IEC 60601/62304, IEC 61508, ISO 13849, DLMS/COSEM."
  keywords="normes conformité, IEC 60601, IEC 62304, IEC 61508, ISO 13849, DLMS COSEM, EMC, systèmes embarqués"
>
  <!-- Hero Section -->
  <section class="pt-32 pb-20 bg-gradient-to-br from-primary-50 via-white to-secondary-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900">
        Normes & conformité
      </h1>
      <p class="mt-6 text-xl text-gray-600 max-w-3xl mx-auto">
        Nous aidons les équipes à concevoir des électroniques embarquées et des logiciels conformes
        dès le début du cycle de développement.
      </p>
    </div>
  </section>

  <!-- Standards Grid -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Normes maîtrisées</h2>
        <p class="mt-4 text-lg text-gray-600">
          Une expertise pratique des standards clés pour le médical, l'énergie et l'industriel.
        </p>
      </div>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {standards.map((standard) => (
          <div class="bg-gray-50 rounded-2xl p-6 border border-gray-100">
            <div class="text-primary-600 font-semibold text-sm">{standard.code}</div>
            <h3 class="text-xl font-bold text-gray-900 mt-2 mb-2">{standard.title}</h3>
            <p class="text-gray-600 text-sm">{standard.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Protocoles & bus -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-2xl md:text-3xl font-bold text-gray-900">{protocolsTitle}</h2>
      <p class="mt-3 text-gray-600 max-w-3xl mx-auto">{protocolsSubtitle}</p>
      <div class="mt-6 flex flex-wrap justify-center gap-3">
        {protocols.map((protocol) => (
          <span class="px-4 py-2 rounded-full bg-white border border-gray-200 text-sm font-semibold text-gray-700">
            {protocol}
          </span>
        ))}
      </div>
    </div>
  </section>

  <!-- Deliverables -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <div>
          <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Ce que nous livrons</h2>
          <p class="mt-4 text-lg text-gray-600">
            Un chemin clair et documenté vers la conformité, adapté à votre produit et votre secteur.
          </p>
          <ul class="mt-6 space-y-3 text-gray-700">
            {deliverables.map((item) => (
              <li class="flex items-start gap-3">
                <span class="mt-1 w-2.5 h-2.5 rounded-full bg-primary-500"></span>
                <span>{item}</span>
              </li>
            ))}
          </ul>
        </div>
        <div class="bg-white rounded-2xl border border-gray-100 p-8 shadow-sm">
          <h3 class="text-xl font-bold text-gray-900 mb-4">Secteurs typiques</h3>
          <div class="flex flex-wrap gap-3">
            {sectors.map((sector) => (
              <span class="px-4 py-2 rounded-full bg-gray-50 border border-gray-200 text-sm text-gray-700">
                {sector}
              </span>
            ))}
          </div>
          <div class="mt-6 p-4 rounded-xl bg-primary-50 border border-primary-100 text-sm text-primary-900">
            Nous accompagnons la conformité et la documentation. Les décisions de certification relèvent de votre
            organisme de certification ou autorité compétente.
          </div>
        </div>
      </div>
    </div>
  </section>

  <CTASection />
</Layout>
